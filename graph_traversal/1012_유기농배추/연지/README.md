# 1012ë²ˆ ìœ ê¸°ë† ë°°ì¶”

[ë¬¸ì œ ë³´ëŸ¬ê°€ê¸°](https://www.acmicpc.net/problem/1012)

ğŸš© `ê·¸ë˜í”„ ì´ë¡ `, `ê·¸ë˜í”„ íƒìƒ‰`, `DFS`, `BFS`

<br>

## ğŸ…° ì„¤ê³„

1. í‹€ë¦¼ (fail)

ìƒ˜í”Œoutputì€ ë§ì•˜ëŠ”ë° ë°±ì¤€ì— ëŒë ¤ë³´ë‹ˆ í‹€ë ¸ë‹¤.

ì–´ì°¨í”¼ â†’â†“ìœ¼ë¡œ ì§„í–‰ë˜ì„œ ì˜¤ë¥¸ìª½, ì•„ë˜ ë¸íƒ€ë§Œ íƒìƒ‰í–ˆëŠ”ë° ì´ê²ƒ ë•Œë¬¸ì¸ê²ƒ ê°™ë‹¤. 4ë°©í–¥ íƒìƒ‰í–ˆì„ ë• íŒ¨ì“° ëœ¸

```python
def dfs(r,c):
    dr = [0, 1]
    dc = [1, 0]
    a[r][c] = -1  # ë°©ë¬¸ì²´í¬
    for d in range(2):
        nr = r + dr[d]
        nc = c + dc[d]
        if nr < 0 or nr >= N or nc < 0 or nc >= M:  # ë²”ìœ„ì²´í¬
            continue
        if a[nr][nc] == 1:
            a[nr][nc] = -1  # ë°©ë¬¸ì²´í¬
            dfs(nr,nc)

T = int(input())
for tc in range(1, T+1):
    M, N, K = map(int, input().split())  # M:ê°€ë¡œê¸¸ì´(ì—´ ê¸¸ì´), N:ì„¸ë¡œê¸¸ì´(í–‰ ê¸¸ì´), K:ë°°ì¶”ê°œìˆ˜
    a = [[0] * M for _ in range(N)]  # ë°°ì¶”ë°­

    for _ in range(K):  # ë°°ì¶” 1ë¡œ ë°”ê¾¸ê¸°
        c, r = map(int, input().split())
        a[r][c] = 1

    cnt = 0
    for i in range(N):
        for j in range(M):
            if a[i][j] == 1:  # ë°°ì¶”ë©´ ì¹´ìš´íŠ¸+1 & ë°©í–¥ íƒìƒ‰
                dfs(i,j)
                cnt += 1

    print(cnt)
```

2. ëŸ°íƒ€ì„ì—ëŸ¬ (fail)

ìœ„ ì½”ë“œì—ì„œ ë¸íƒ€ë§Œ ìƒí•˜ì¢Œìš° 4ë°©í–¥ íƒìƒ‰ìœ¼ë¡œ ë°”ê¿¨ë”ë‹ˆ **ëŸ°íƒ€ì„ì—ëŸ¬**ê°€ ë‚¬ë‹¤.

â­ êµ¬ê¸€ë§ í–ˆë”ë‹ˆ **ì¬ê·€ limitì„ ì„¤ì •í•´ì£¼ì§€ ì•Šì•„ì„œ ë°œìƒ**í•œ ë¬¸ì œë¼ê³  í•œë‹¤. 

K(1 â‰¤ K â‰¤ 2500)ì˜ ë²”ìœ„ê°€ ì—„ì²­ ì»¤ì„œ ê·¸ëŸ°ë“¯

íŒŒì´ì¬ì˜ ê¸°ë³¸ ì¬ê·€ í•œë„ê°€ (1000)ì´ì–´ì„œ ì¬ê·€ ê¹Šì´ê°€ 1000ì„ ë„˜ì–´ê°ˆ ê²½ìš° ëª¨ë“ˆì„ ì¶”ê°€í•´ì¤˜ì•¼í•œë‹¤.

<br><br>

## ğŸ…± ìµœì¢… ì½”ë“œ

**`sys.setrecursionlimit(10000)` ëª¨ë“ˆ ì¶”ê°€**

```python
import sys
sys.setrecursionlimit(10000)

def dfs(r,c):
    dr = [0, 1, 0, -1]
    dc = [1, 0, -1, 0]
    a[r][c] = -1  # ë°©ë¬¸ì²´í¬
    for d in range(4):
        nr = r + dr[d]
        nc = c + dc[d]
        if nr < 0 or nr >= N or nc < 0 or nc >= M:  # ë²”ìœ„ì²´í¬
            continue
        if a[nr][nc] == 1:
            a[nr][nc] = -1  # ë°©ë¬¸ì²´í¬
            dfs(nr,nc)

T = int(input())
for tc in range(1, T+1):
    M, N, K = map(int, input().split())  # M:ê°€ë¡œê¸¸ì´(ì—´ ê¸¸ì´), N:ì„¸ë¡œê¸¸ì´(í–‰ ê¸¸ì´), K:ë°°ì¶”ê°œìˆ˜
    a = [[0] * M for _ in range(N)]  # ë°°ì¶”ë°­

    for _ in range(K):  # ë°°ì¶” 1ë¡œ ë°”ê¾¸ê¸°
        c, r = map(int, input().split())
        a[r][c] = 1

    cnt = 0
    for i in range(N):
        for j in range(M):
            if a[i][j] == 1:  # ë°°ì¶”ë©´ ì¹´ìš´íŠ¸+1 & ë°©í–¥ íƒìƒ‰
                dfs(i,j)
                cnt += 1

    print(cnt)
```

<br><br>

## âœ… í›„ê¸°

dfs ì˜¤ëœë§Œì— í’€ì—ˆëŠ”ë° ì•„ì£¼ ì–´ìƒ‰í–ˆë‹¤

ê¾¸ì¤€íˆ í’€ ê²ƒ

ë°±ì¤€ì€ ëŸ°íƒ€ì„ì—ëŸ¬ê°€ ëœ¨ë©´ ì œë°œ ë­ë•Œë¬¸ì— ëœ¬ ê±´ì§€ ì•Œë ¤ì¤¬ìœ¼ë©´ ì¢‹ê² ë‹¤

### ìƒˆë¡­ê²Œ ì•Œê²Œëœ ì 

 ìµœëŒ€ ì¬ê·€ ê¹Šì´ ëŠ˜ë¦¬ëŠ” ëª¨ë“ˆ

```python
import sys 
sys.setrecursionlimit(10000)
```